# 被挖矿记录

- top命令定位进程,查看占用CPU最多的进程
- 查看进程相关文件

```bash
ps -aux|grep bash64 
```

- 进入进程文件目录

```bash
# cd /root/.tmp00
# ls
bash  bash64  bash.pid  cfg  cfgi  uuid
```

- 收回可执行权限

```bash
chmod -x bash64
chmod -x bash
```

- 杀掉进程

```bash
kill -9 进程ID
```

- 尝试删除文件

```bash
rm -rf /root/.tmp00/*
```

但是删不掉,会再次自动生成.文件除了有读写执行权限控制外还有更底层的文件属性,lsattr和chattr两个命令是查看和更改文件属性的

```bash
# lsattr /var/spool/cron/root #查看文件属性
s---ia------- /var/spool/cron/root
# chattr -sia /var/spool/cron/root #更改文件属性
```

- 查看定时任务

```bash
# cat /var/spool/cron/root 
# crontab -l
```

