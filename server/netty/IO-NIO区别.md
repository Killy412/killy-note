## 同步/异步,阻塞/非阻塞概念

阻塞/非阻塞描述的是调用者一方在调用时的状态. 如果调用者在调用直到调用完成这段时间可以去做其他事情,则是非阻塞的.否则是阻塞的.

同步/异步是对调用方式的描述.

## NIO

NIO是同步非阻塞的IO模型.在java1.4中引入了io包.提供了Channel,Buffer,Selector等抽象.

NIO是支持面向缓冲的,基于通道的IO操作. NIO提供了`SocketChannel`和`ServerSocketChannel`对应传统IO模型的`Socket`和`ServerSocket`. 两种不同的套接字实现,都支持阻塞/非阻塞两种模式.

### NIO特性

面试中遇到这个题,可以从NIO是非阻塞的开始说起.然后从NIO的三个核心组件Channel/Selector/Buffer带来的改进来分析.

1. NIO是非阻塞的.
   普通IO是阻塞的,NIO是非阻塞的. NIO在读写数据的时候可以继续做其他的事情.

2. NIO是面向缓冲区(Buffer)
   Buffer是一个对象,包含需要读取或者写入的数据. NIO读取数据直接读到Buffer对象中.写入数据也是写入缓冲区.任何时候访问NIO中的数据都是通过Buffer对象实现.

3. NIO支持Selector
   选择器支持使用单个线程处理多个通道. 因此他只需要较少的线程处理这些通道.线程之间的切换对操作系统来说是比较浪费开销的.因此选择器可以提高系统效率.

### NIO读写数据方式
NIO中的所有IO都是从Channel开始的.
- 从通道进行数据读取: 创建一个缓冲区,请求通道读取数据.
- 从通道进行数据写入: 创建一个缓冲区,填充数据,请求通道写入数据.