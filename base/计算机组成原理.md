### 输入/输出设备

并不只是一个设备. 大部分的输入/输出设备由两个部分组成,**接口和真正的IO设备.** io设备通过接口和总线连接,总线和cpu通信.

设备里面有三种寄存器,都在设备的接口电路上,不在实际的设备上. 三类寄存器分别是: **状态寄存器.命令寄存器.数据寄存器**




### 进程在系统上的运行分为两种状态

- 用户态: 用户态运行的程序可以直接读取用户程序的数据
- 系统态: 系统运行的进程或程序几乎可以访问计算机的任何资源,不受限制.

平常运行的程序基本都是用户态,如果调用操作系统提供的系统态级别的子功能就需要系统调用. 运行的用户程序中,凡是与系统态级别的资源有关的操作,都需要进行系统调用方式向操作系统提出服务请求,并由操作系统代为完成.

系统调用按照功能分为以下几种

1. **设备管理**: 完成设备的请求和释放,以及设备启动等功能.
2. **文件管理**: 完成文件的读/写/删除/创建等功能.
3. **进程控制**: 完成进程的创建/阻塞/唤醒/撤销等功能
4. **进程通信**: 完成进程间的信号传递等功能.
5. **内存管理**: 完成内存的分配,申请,回收以及获取作业区占用内存区大小以及地址等功能.

### Linux系统

#### 系统简介

在Linux操作系统中,所有被操作系统管理的资源,例如网络接口卡/磁盘驱动/打印机/输入输出设备/普通文件都被看做一个文件. 也是Linux重要的概念,**一切皆文件**.

#### inode介绍

inode是linux/unix文件系统的基础.

硬盘的最小存储单位是扇区(Sector),块(block)是由多个扇区组成.块最常见的大小是4kb,约为8个连续的扇区组成(每个扇区存储512个字节).一个文件可能占用多个块,一个块只能存储一个文件.

文件内容存储在块中,还需要一块地方存储文件的**元信息metadata**:例如文件有几个块组成,每一块的地址,文件拥有者,创建者,权限,大小等.这种存储文件元信息的区域叫做**inode**. 译为index+node(inode). 

#### Linux文件类型

Linux支持很多种文件类型,非常重要的文件类型有: **普通文件,目录文件,链接文件,设备文件,管道文件,Socket套接字文件等.**

- **普通文件(-):** 用于存储数据和信息,Linux用户可以根据访问权限对普通文件进行查看,更改和删除.
- **目录文件(d,directory file):** 目录也是文件的一种,用于表示和管理系统中的文件,目录文件包含一些文件名和子文件名. 打开目录事实上就是打开目录文件.
- **符号链接文件(l,symbolic link):** 保留了指向文件的地址而不是文件本身.
- **字符设备(c,char):**用来访问字符设备,比如硬盘
- **设备文件(b,block):** 用来访问块设备,比如硬盘,软盘.
- **管道文件(p,pipe):** 一种特殊类型的文件,用于进程间通信.
- **套接字(s,socket):** 用于进程间的网络通信,也可用于本机之间的非网络通信

#### Linux权限管理

Linux中文件权限一般分为**读(r,readable,4),写(w,writable,2),执行(x, exectable,1)**. 文件有属主,属组,其他用户的权限,可以用来限制哪些用户哪些组可以进行文件操作.

对于文件和文件夹读写执行意义不同

| 权限名称 | 可执行操作 |
| :------: | :--------: |
|    r     |    可读    |
|    w     |    可写    |
|    x     |   可执行   |

文件夹

| 权限名称 |         可执行操作         |
| :------: | :------------------------: |
|    r     |    可以查看文件夹的目录    |
|    w     | 可以创建和删除目录下的文件 |
|    x     |    可以使用`cd`进入目录    |




